<?php

$html_title = 'OS/2 Code in Mozilla: Raptor base';
$page_title = 'Raptor base';

$menu = array(
    'id' => 'default',
);

require_once "{$config['file_root']}/includes/header.inc.php"

?>

<p>
Files in mozilla/base/src/os2/
<br>
(not yet checked in to mozilla.org cvs)

<p>
<strong>nsTimerOS2.cpp</strong>

<p>
Timers are used to invoke a function or method after a specified time.
The current implementation uses <b>WM_TIMER</b> to do this.  Separate
threads use separate windows and timers, so that timeout functions get
called in the thread from which the timer was set.
<p>
<img src="hamm.gif">Look at removing PM dependency
                    <br>
                    (This isn't so important, the current method seems fine)
</ul>

<p>
<strong>nsFileSpecOS2.cpp</strong>

<p>
These classes are designed to provide a cross-platform abstraction of
file names and conversion to file:// URLs (abstracting; see 
<a href="http://lxr.mozilla.org/mozilla/source/base/public/nsFileSpec.h">nsFileSpec.h</a>
for more).

<p>
<strong>nsCaretPropsOS2.cpp</strong>

<p>
This provides methods to get metrics for the caret, the blinking vertical
cursor used in the editor.

<p>
<img src="hamm.gif"> Caret width is fairly arbitrary at the moment; the real
fix is to move this function into the <b>nsILookAndFeel</b> interface in the
widget library and to change the API to request the width of the caret in
pixels as opposed to app units.  This is a cross-platform change, which
should go through the editor team.


<p>
There's also platform-specific code in the main base library, in
<a href="http://lxr.mozilla.org/mozilla/source/base/src/nsSpecialSystemDirectory.cpp">nsSpecialSystemDirectory.cpp</a>,
which is used to find the temporary directory, and so on.

<p>
<hr>
<table width="100%">
<tr>
<th align="left"><a href="wznspr.html">Back to NSPR</a></th>
<th align="right"><a href="wzgfx.html">On to Raptor gfx</a></th>
</tr>
</table>



<?
require_once "{$config['file_root']}/includes/footer.inc.php"
?>
