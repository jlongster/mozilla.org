<?php

$html_title = 'How to setup the build tools';

$menu = array(
    'id' => 'default',
);

require_once "{$config['file_root']}/includes/header.inc.php"

?>

<!-- Top goes here -->

<P><BR>
<!-- Main panel text -->

<h1 ALIGN=CENTER>setup the build tools</h1>
<P>
Before you can actually compile any part of the Warpzilla source code, you
need several tools and must setup your environment pretty carefully.

<P> Some people may already have a diferent compiler and other similar build tools.
You are welcome to try them out but sometimes behaviors are slightly different 
and this may lead to hard to pinpoint failures. 
Try posting in the newsgroup with your tales of woe and further tips.

<P>
<br>


<h2 ALIGN=CENTER>compiler</h2>
<P>
The warpzilla team has decided to maintain the port for two popular compilers. 
On the one hand is IBM's commercial product <strong>VisualAge for 
C++</strong> and on the other hand the free <strong>GNU gcc emx port</strong>.
It may eventually be possible to compile with <strong>pgcc</strong> which is
an Pentium-optimizing compiler.

<P>
Both compilers could be used until relatively recently to compile the sources, 
so there is no final recommendation on which product to use. The last few 
changes broke the VisualAge support but it will likely be back soon if you all
work hard enough. If you decide to use the IBM compiler, be sure to apply the 
latest set of product fixes (FixPak 8 which is already included if you buy the 
now current version 3.08). Without the fixes, it cannot access the object files 
generated by Un*x style tools.

<ul>
<li><strong>IBM VisualAge for C++ Version 3.0</strong><br>
Available from your favourite IBM Dealer. For more information, take a look at
their <a href="http://www.software.ibm.com/ad/visualage_c++">web site</a>.<br>
The required fixes can be obtained from the <a href="ftp://ftp.software.ibm.com/ps/products/visualagecpp/fixes/v30os2/english-us/fixpak8">IBM FTP Server</a>.<p>
<li><strong>emx/gcc version 0.9c</strong><br>
You can download this compiler either from 
<a href="http://hobbes.nmsu.edu/cgi-bin/h-browse?sh=1&dir=/pub/os2/dev/emx/v0.9c">Hobbes (USA)</a> 
or 
<a href="http://www.leo.org/pub/comp/os/os2/leo/gnu/emx+gcc/index.html">
<img ALT="" src="leo_small.gif" align="BOTTOM" alt="Lion"> LEO (Germany)</a>.<br>
It is helpful to consult <tt>README.DOC</tt> to identify the packages desired 
and to follow carefully the instructions in <tt>INSTALL.DOC</tt>.

</ul>
<P>
<br>

<h2 ALIGN=CENTER>gnu tools for os/2</h2>

Even if you don't use the gnu compiler, you still need a set of gnu tools
because the warpzilla makefiles rely heavily on Un*x-like tools.
<p>
Most of these links will help you retrieve a file from Hobbes but those
with a <img src="leo_small.gif" alt="Lion"> will certainly be closer for European users.

<ul>
<li>
<a href="ftp://joyce.eng.yale.edu/pub/warpzilla/gmake375.zip">
gnu <tt>make</tt> Utility</a><br>
This is used to build Warpzilla. Even if you own Visual Age C++, you must use
<tt>gmake</tt>.<br><strong>Newish:</strong> Note that there are currently problems 
with GMAKE 3.76.1 (disappearing perl files) so be sure to use the older version 
3.75 until the issues have been cleared!
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/shells/bash-os2-2.0-266.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/util/shell/bash-2.0-b264.zip">
gnu <tt>bash</tt></a><br>
The most popular Un*x shell (gnu Bourne Again Shell).<br>
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/systools/gnusutil.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/util/gnusutil.zip">
gnu Utilities (shell)</a><br>
Several gnu shell utilities that are invoked by the makefile.<br>
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/systools/gnufutil.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/util/gnufutil.zip">
More gnu Utilities (files)</a><br>
The gnu file utilities are needed by <tt>gbash</tt>.<br>
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/systools/gnututil.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/util/gnututil.zip">
Even More gnu Utilities (text)</a><br>
This package contains another required gnu utility.<br>
<li>
<a href="http://www.goof.com/pcg/data/os2/gas-2.8.1.0.1-bin.zip">
<tt>as</tt> 2.8.1</a> <br>
Some code in the new viewer requires a modern assembler. Which in turn depends on the dlls in 
<a href="http://www.goof.com/pcg/data/os2/pgcc-os2-1.0.2-gcc.zip">pgcc-os2-1.0.2-gcc.zip</a>.
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/devtools/gnuaconf.zip">
<tt>autoconf</tt></a><br>
The makefile configuration software <tt>autoconf</tt> will soon be used to 
simplify the makefile maintenance nightmare.
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/systools/gnum4.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/util/gnum4.zip">
gnu <tt>m4</tt></a> a macro pre-processor
will soon be necessary as the build moves toward <tt>autoconf</tt>.
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/script/gnuawk.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/dev/gnuawk.zip">
gnu <tt>awk</tt></a><br>
The build process also required <tt>awk</tt> at some point.<br>
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/script/perl502b.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/dev/perl502b.zip">
<tt>perl 5.02b</tt></a><br>
We will require <tt>perl</tt> as well if you do not already have it.<br>
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/systools/gnused.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/util/gnused.zip">
gnu <tt>sed</tt></a><br>
gnu <tt>sed</tt> (stream-editor) was used somewhere in the build process.<br>
<li>
<a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/devtools/cvs110.zip">
<img src="leo_small.gif" alt="Lion"></a>
<a href="ftp://hobbes.nmsu.edu/pub/os2/unix/dev/cvs110.zip">
<tt>cvs</tt> 1.10</a><br> 
<tt>cvs</tt> is used to access the mozilla source repository directly at 
cvs.mozilla.org.
</ul>
<p>
<br>
<h2 ALIGN=CENTER>installation and configuration</h2>

After you have installed one or both compilers and all required tools
have been downloaded, you must install and configure these tools to create a 
suitable build environment.
<P> 
It looks like a really long list but it's not so bad: please read about the 
instructions in all these packages and install them according to your own 
preferred file directories and standards.  Because there are so many lazy people,
We have however decided to provide a quick'n'dirty technique right here 
that you may use at your own risk:
<P>
We assume that you install everything apart from the compilers into the
directory <strong>X:\Warpzilla</strong>.<br>
Create a directory <strong>X:\Warpzilla\tools</strong> that will hold all
the required tools. Also, create a subdirectory <b>X:\Warpzilla\tools\home</b>
that will hold some configuration files.
<ul>
<li>Extract <strong>make-os2.exe</strong> from the archive <strong>gnumake.zip
</strong>into the tools directory and rename it to <strong>gmake.exe</strong>.
<li>The archive <strong>gnusutil.zip</strong> contains a subdirectory 
<strong>exe</strong> from which you extract <strong>uname.exe</strong> and 
<b>gnushu.dll</b> to the tools directory.
<li>The files <strong>bash.exe</strong> and <b>termcap.dat</b> from 
<strong>bash-2.0-b264.zip</strong> should be copied to the tools directory and 
renamed to <strong>gbash.exe</strong>. Also, put <b>.bashos2</b>, <b>.bashrc</b> 
and <b>.inputrc</b> from the home-subdirectory of the bash archive into 
<b>\tools\home</b>.
<li>From <b>gnufutil.zip</b>, copy <b>mkdir.exe</b>, <b>rm.exe</b>,
<b>cp.exe</b>, <b>mv.exe</b> and <b>chmod.exe</b> to the tools directory.
<li>From the archive <strong>gnuawk.zip</strong>, take the file <strong>
gawk32.exe</strong> and extract it to the tools directory. Rename the file
to <strong>awk.exe</strong>.
<li>Copy <b>cvs.exe</b> to the tools subdirectory.
<li>Extract <b>cat.exe</b> from <b>gnututil.zip</b> and place into to tools directory.
<li><b>sed.exe</b> from <b>gnused.zip</b> also has to reside in the tools subdirectory.
</ul>

This little <a href="unpacktools.cmd">script</a> might do the trick but you
will have to modify it for your own particular setup.
<P>
The perl, autoconf and m4 instructions are still lacking, you might have to 
do a little reading. You are welcome to send improvements to these instructions 
when you figure it out.
<P>
The next step is to <a href="checkout.html">obtain the source</a> before you try your 
luck on the <a href="build.html">compilation lottery</a>.


<P><BR>

<!-- Bottom goes here -->



<?
require_once "{$config['file_root']}/includes/footer.inc.php"
?>
