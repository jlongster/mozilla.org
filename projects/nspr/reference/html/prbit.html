<?php

$html_title = ' NSPR Reference: Chapter&#32;19 BitMaps';

$menu = array(
    'id' => 'default',
);

$extra_headers = '
<META NAME="keywords" CONTENT="electronic commerce, ecommerce, ebusiness, e-business, e-commerce, enterprise software, net economy, Netscape, Sun Microsystems, Sun-Netscape Alliance, iPlanet, internet software">
<META NAME="description" CONTENT="The Sun-Netscape Alliance, a strategic alliance formed by America Online and Sun Microsystems, Inc., is delivering iPlanet e-commerce software and enterprise solutions that enable companies to compete successfully in the Net Economy">
<META NAME="TEMPLATEBASE" CONTENT="Authored in FrameMaker. Converted to HTML in WebWorks Publisher 2000. manual wdt 1.5">
<META NAME="LASTUPDATED" CONTENT="05/18/01 16:05:44">
';

require_once "{$config['file_root']}/includes/header.inc.php"

?>

<MAINCONTENT>

<NAVIGATIONCONTENT>
   <TABLE WIDTH="100%" BORDER="0" CELLSPACING="4">
      <TR>
         <TD VALIGN="TOP">
        
           
           <FONT SIZE="+1"><B>
             NSPR Reference</B></FONT><BR><FONT>  
<FONT SIZE="-1"><b><a href="prlong.html">
<FONT SIZE="2">Previous</a></FONT>&nbsp;&nbsp;&nbsp;&nbsp;</b>
<a href="index.html">
<b><FONT SIZE="2">Contents</a></FONT></b>&nbsp;&nbsp;&nbsp;&nbsp;
<a href="prprf.html">
<b>
<FONT SIZE="2">
Next
</a>
</FONT>
</b>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
         </TD>
     </TR>

     
   </TABLE>
   <BR>
</NAVIGATIONCONTENT>

<BOOKCONTENT>
<HR>
      <center>
<A NAME="23051"> </A><A NAME=""> </A><h2>
Chapter&#32;19 
&nbsp;



<A NAME="23052"> </A><A NAME="BitMaps"> </A>BitMaps
</h2>
</center>
<A NAME="23053"> </A>This chapter describes the bitmap type and the functions for manipulating the 
bitmap type. 

<P>

<A NAME="23057"> </A><A HREF="prbit.html#23062"  >Bitmap Type</A><br>
<A HREF="prbit.html#23076"  >Bitmap Functions and Macros</A><br>
<A HREF="prbit.html#23160"  >Logarithmic Functions and Macros</A>

<P>



<A NAME="23062"> </A>
<A NAME="Bitmap Type"> </A>
<h2>
Bitmap Type
</h2>


<A NAME="23066"> </A>The <A HREF="prbit.html#23068"  ><CODE>prbitmap_t</CODE></A> type represents a bitmap structure.

<P>

<A NAME="23068"> </A><A NAME="prbitmap_t"> </A><h4>
prbitmap_t
</h4>

<A NAME="23069"> </A>Represents a bitmap. 

<P>

<BR>
<A NAME="23070"> </A><A NAME="syntax"> </A><h5>
syntax
</h5>


<PRE>
<A NAME="23071"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23072"></A>typedef unsigned long prbitmap_t;
</PRE>
<P>
<BR>
<A NAME="23073"> </A><A NAME="description"> </A><h5>
description
</h5>


<A NAME="23074"> </A>Use <CODE>prbitmap_t</CODE> as an array to define a bitmap. 

<P>



<A NAME="23076"> </A>
<A NAME="Bitmap Functions and Macros"> </A>
<h2>
Bitmap Functions and Macros
</h2>


<A NAME="23077"> </A>The API defined for bitmaps is consistent across all platforms. The bitmap macros 
are:

<P>

<A NAME="23081"> </A><A HREF="prbit.html#23094"  ><CODE>PR_TEST_BIT</CODE></A><CODE><br>
</CODE><A HREF="prbit.html#23116"  ><CODE>PR_SET_BIT</CODE></A><CODE><br>
</CODE><A HREF="prbit.html#23138"  ><CODE>PR_CLEAR_BIT</CODE></A><CODE>
</CODE>
<P>

<A NAME="23088"> </A>Logarithmic functions and macros are also defined in the bitmap API, but are not 
limited to use with bitmaps. See <A HREF="prbit.html#23160"  >Logarithmic Functions and Macros</A>.

<P>

<A NAME="23094"> </A><A NAME="PR_TEST_BIT"> </A><h4>
PR_TEST_BIT
</h4>

<A NAME="23095"> </A>Tests a bit within a bitmap array. 

<P>

<BR>
<A NAME="23096"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23097"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23098"></A>PRIntn PR_TEST_BIT (<br>&nbsp;&nbsp;&nbsp;prbitmap_t *_map, <br>&nbsp;&nbsp;&nbsp;PRInt32 _bit);
</PRE>
<P>
<BR>
<A NAME="23099"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23100"> </A>The macro has these parameters:

<P>

<P>
<A NAME="23110"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23103"> </A>_map

<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23105"> </A>Address of the bitmap containing the bit to be tested.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23107"> </A><CODE>_bit
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23109"> </A>The relative position within the bitmap of the bit to be tested.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23111"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23112"> </A>Non-zero if the bit is on, otherwise zero. 

<P>

<BR>
<A NAME="23113"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23114"> </A>This macro tests the bit at the specified relative position within the specified 
bitmap. The macro evaluates to <CODE>TRUE</CODE> (non-zero) if the bit is set. If the bit is clear, the 
macro evaluates to zero. 

<P>

<A NAME="23116"> </A><A NAME="PR_SET_BIT"> </A><h4>
PR_SET_BIT
</h4>

<A NAME="23117"> </A>Sets a bit within a bitmap array. 

<P>

<BR>
<A NAME="23118"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23119"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23120"></A>void PR_SET_BIT (<br>&nbsp;&nbsp;&nbsp;prbitmap_t *_map,<br>&nbsp;&nbsp;&nbsp;PRInt32 _bit);
</PRE>
<P>
<BR>
<A NAME="23121"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23122"> </A>The macro has these parameters:

<P>

<P>
<A NAME="23132"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23125"> </A><CODE>_map
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23127"> </A>Address of the bitmap containing the bit to be set.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23129"> </A><CODE>_bit
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23131"> </A>The relative position within the bitmap of the bit to be set.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23133"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23134"> </A>Nothing. 

<P>

<BR>
<A NAME="23135"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23136"> </A>This macro sets the bit at the specified relative position in the specified bitmap to 
one. 

<P>

<A NAME="23138"> </A><A NAME="PR_CLEAR_BIT"> </A><h4>
PR_CLEAR_BIT
</h4>

<A NAME="23139"> </A>Clears a bit within a bitmap array. 

<P>

<BR>
<A NAME="23140"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23141"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23142"></A>void PR_CLEAR_BIT (<br>&nbsp;&nbsp;&nbsp;prbitmap_t *_map, <br>&nbsp;&nbsp;&nbsp;PRInt32 _bit);
</PRE>
<P>
<BR>
<A NAME="23143"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23144"> </A>The macro has these parameters:

<P>

<P>
<A NAME="23154"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23147"> </A><CODE>_map
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23149"> </A>Address of the bitmap containing the bit to be cleared.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23151"> </A><CODE>_bit
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23153"> </A>The relative position within the bitmap of the bit to be cleared.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23155"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23156"> </A>Nothing. 

<P>

<BR>
<A NAME="23157"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23158"> </A>This macro sets the bit at the specified relative position in the specified bitmap to 
zero.

<P>



<A NAME="23160"> </A>
<A NAME="Logarithmic Functions and Macros"> </A>
<h2>
Logarithmic Functions and Macros
</h2>


<A NAME="23161"> </A>The bitmap files also define these logarithmic functions and macros, that need not 
be used specifically with bitmaps:

<P>

<A NAME="23165"> </A><A HREF="prbit.html#23176"  ><CODE>PR_CeilingLog2</CODE></A><CODE><br>
</CODE><A HREF="prbit.html#23196"  ><CODE>PR_FloorLog2</CODE></A><CODE><br>
</CODE><A HREF="prbit.html#23214"  ><CODE>PR_CEILING_LOG2</CODE></A><CODE><br>
</CODE><A HREF="prbit.html#23236"  ><CODE>PR_FLOOR_LOG2</CODE></A><CODE>
</CODE>
<P>

<A NAME="23176"> </A><A NAME="PR_CeilingLog2"> </A><h4>
PR_CeilingLog2
</h4>

<A NAME="23177"> </A>Returns the ceiling of log2 of a number. 

<P>

<BR>
<A NAME="23178"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23179"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23180"></A>PRIntn PR_CeilingLog2 (PRUint32 i);
</PRE>
<P>
<BR>
<A NAME="23181"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23182"> </A>The function has this parameter:

<P>

<P>
<A NAME="23188"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23185"> </A><CODE>i
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23187"> </A>An unsigned 32-bit number.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23189"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23190"> </A>Ceiling of log2 of <CODE>i</CODE>. 

<P>

<BR>
<A NAME="23191"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23192"> </A>This function takes the log2 of the specified 32-bit integer, and returns the smallest 
integer that is greater than or equal to it. This is the same as the C operation 
<CODE>Ceil(Log2(i));</CODE> 

<P>

<BR>
<A NAME="23193"> </A><A NAME="Example"> </A><h5>
Example
</h5>


<PRE>
<A NAME="23194"></A>PRIntn j = PR_CeilingLog2( 32 ); /* After execution, j == 5 */
</PRE>
<P>
<A NAME="23196"> </A><A NAME="PR_FloorLog2"> </A><h4>
PR_FloorLog2
</h4>

<A NAME="23197"> </A>Returns the floor of log2 of a number. 

<P>

<BR>
<A NAME="23198"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23199"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23200"></A>PRIntn PR_FloorLog2 (PRUint32 i);
</PRE>
<P>
<BR>
<A NAME="23201"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23202"> </A>The function has this parameter:

<P>

<P>
<A NAME="23208"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23205"> </A><CODE>i
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23207"> </A>An unsigned 32-bit number.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23209"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23210"> </A>Floor of log2 of <CODE>i</CODE>. 

<P>

<BR>
<A NAME="23211"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23212"> </A>This function takes the log2 of the specified 32-bit integer, and returns the largest 
integer that is less than or equal to it. This is the same as the C operation 
<CODE>Floor(Log2(i));</CODE> 

<P>

<A NAME="23214"> </A><A NAME="PR_CEILING_LOG2"> </A><h4>
PR_CEILING_LOG2
</h4>

<A NAME="23215"> </A>Returns ceiling of log2 of a number in a variable. 

<P>

<BR>
<A NAME="23216"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23217"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23218"></A>void PR_CEILING_LOG2 (<br>&nbsp;&nbsp;&nbsp;PRUint32 _log,<br>&nbsp;&nbsp;&nbsp;PRUint32 i);
</PRE>
<P>
<BR>
<A NAME="23219"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23220"> </A>The macro has these parameters:

<P>

<P>
<A NAME="23230"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23223"> </A><CODE>_log
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23225"> </A>A variable that will contain the result of the operation.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23227"> </A><CODE>i
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23229"> </A>An unsigned 32-bit number.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23231"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23232"> </A>Nothing. 

<P>

<BR>
<A NAME="23233"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23234"> </A>This macro takes the log2 of the specified 32-bit integer, and finds the smallest 
integer that is greater than or equal to it. The result is bound to the variable <CODE>_log</CODE>. 
The parameters must be variables of the proper type predefined by the caller. 

<P>

<A NAME="23236"> </A><A NAME="PR_FLOOR_LOG2"> </A><h4>
PR_FLOOR_LOG2
</h4>

<A NAME="23237"> </A>Returns floor of log2 of a number in a variable. 

<P>

<BR>
<A NAME="23238"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
<A NAME="23239"></A>#include &lt;prbit.h&gt;
</PRE>
<P>
<PRE>
<A NAME="23240"></A>void PR_FLOOR_LOG2 (<br>&nbsp;&nbsp;&nbsp;PRUint32 _log,<br>&nbsp;&nbsp;&nbsp;PRUint32 i);
</PRE>
<P>
<BR>
<A NAME="23241"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23242"> </A>The macro has these parameters:

<P>

<P>
<A NAME="23252"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23245"> </A><CODE>_log
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23247"> </A>A variable that will contain the result of the operation.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23249"> </A><CODE>i
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23251"> </A>An unsigned 32-bit number.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23253"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23254"> </A>Nothing. 

<P>

<BR>
<A NAME="23255"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23256"> </A>This macro takes the log2 of the specified 32-bit integer, and finds the largest 
integer that is less than or equal to it. The result is bound to the variable <CODE>_log</CODE>. The 
parameters must be variables of the proper type predefined by the caller. 

<P>


<HR>
</BOOKCONTENT>

<FOOTERCONTENT>


            <b><a href="prlong.html">
<FONT SIZE="2">Previous</a></FONT>&nbsp;&nbsp;&nbsp;&nbsp;</b>
<a href="index.html">
<b><FONT SIZE="2">Contents</a></FONT></b>&nbsp;&nbsp;&nbsp;&nbsp;
<a href="prprf.html">
<b>
<FONT SIZE="2">
Next
</a>
</FONT>
</b>&nbsp;&nbsp;&nbsp;&nbsp;
 

   <FONT SIZE="-2">
   <P ALIGN="RIGHT">Last Updated <B>May 18, 2001</B>
   </FONT>
   <BR>

</FOOTERCONTENT>

</MAINCONTENT>



<?
require_once "{$config['file_root']}/includes/footer.inc.php"
?>
