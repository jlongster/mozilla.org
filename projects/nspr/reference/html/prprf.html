<?php

$html_title = ' NSPR Reference: Chapter&#32;20 Formatted Printing';

$menu = array(
    'id' => 'default',
);

$extra_headers = '
<META NAME="keywords" CONTENT="electronic commerce, ecommerce, ebusiness, e-business, e-commerce, enterprise software, net economy, Netscape, Sun Microsystems, Sun-Netscape Alliance, iPlanet, internet software">
<META NAME="description" CONTENT="The Sun-Netscape Alliance, a strategic alliance formed by America Online and Sun Microsystems, Inc., is delivering iPlanet e-commerce software and enterprise solutions that enable companies to compete successfully in the Net Economy">
<META NAME="TEMPLATEBASE" CONTENT="Authored in FrameMaker. Converted to HTML in WebWorks Publisher 2000. manual wdt 1.5">
<META NAME="LASTUPDATED" CONTENT="05/18/01 16:05:46">
';

require_once "{$config['file_root']}/includes/header.inc.php"

?>

<MAINCONTENT>

<NAVIGATIONCONTENT>
   <TABLE WIDTH="100%" BORDER="0" CELLSPACING="4">
      <TR>
         <TD VALIGN="TOP">
        
           
           <FONT SIZE="+1"><B>
             NSPR Reference</B></FONT><BR><FONT>  
<FONT SIZE="-1"><b><a href="prbit.html">
<FONT SIZE="2">Previous</a></FONT>&nbsp;&nbsp;&nbsp;&nbsp;</b>
<a href="index.html">
<b><FONT SIZE="2">Contents</a></FONT></b>&nbsp;&nbsp;&nbsp;&nbsp;
<a href="prclist.html">
<b>
<FONT SIZE="2">
Next
</a>
</FONT>
</b>&nbsp;&nbsp;&nbsp;&nbsp;</FONT>
         </TD>
     </TR>

     
   </TABLE>
   <BR>
</NAVIGATIONCONTENT>

<BOOKCONTENT>
<HR>
      <center>
<A NAME="23284"> </A><A NAME=""> </A><h2>
Chapter&#32;20 
&nbsp;



<A NAME="23286"> </A><A NAME="Formatted Printing"> </A>Formatted Printing
</h2>
</center>
<A NAME="23287"> </A>NSPR contains formatted printing facilities modeled after ANSI C's <CODE>stdlib</CODE> 
offering. The routines offered are thread aware and do place extra burdens on the 
clients to deal with resource allocation and deallocation. 

<P>

<A NAME="23291"> </A><A HREF="prprf.html#23299"  >Formatting Specification</A><br>
<A HREF="prprf.html#23364"  >Output Functions</A><br>
<A HREF="prprf.html#23627"  >Scanning Function</A>

<P>



<A NAME="23299"> </A>
<A NAME="Formatting Specification"> </A>
<h2>
Formatting Specification
</h2>


<A NAME="23300"> </A>The output functions translate internal values to characters under the control of a 
<CODE>format</CODE> string. The <CODE>format</CODE> string contains two types of objects: ordinary 
characters, which are copied to the output stream, and conversion specifications, 
each of which causes conversion and printing of the next successive argument of 
the calling function. Each conversion specification begins with a percent character 
(<CODE>%</CODE>) and ends with a conversion character. Between the percent and the conversion 
character there can be, in order: 

<P>
<ul>
<B>  <li></B>
<A NAME="23301"> </A>A minus sign, which specifies left adjustment of the converted argument.

<P><B>  <li></B>
<A NAME="23302"> </A>A number that specifies the minimum field width. The converted argument 
will be printed in a field at least this wide. If necessary, it will be padded on the 
left (or right, if left adjustment is called for) to make up the field width.

<P><B>  <li></B>
<A NAME="23303"> </A>A period, which separates the field width from the precision.

<P><B>  <li></B>
<A NAME="23304"> </A>A number, the precision, that specifies the maximum number of characters to 
be printed for a string, or the number of digits after the decimal point of a 
floating point value, or the minimum number of digits for an integer.

<P><B>  <li></B>
<A NAME="23305"> </A>An <CODE>h</CODE> if the integer is to be printed as a 16 bit value, a <CODE>l</CODE> if 32 bits, or <CODE>ll</CODE> if 64 bits.

<P></ul>

<A NAME="23306"> </A>The conversion characters are shown in the following table.

<P>

<P>
<A NAME="23362"> </A>
<BR>
<P>
<TABLE WIDTH="90%" BORDER="1" CELLPADDING="5" CELLSPACING="0">
  <CAPTION></CAPTION><P><FONT FACE=""><B></B></FONT>
<BR>
<BR>
  <TR BGCOLOR="#CCCCCC" ALIGN=LEFT VALIGN=TOP>
    <TH VALIGN=TOP ALIGN=LEFT>
<P ALIGN="LEFT">
<A NAME="23309"> </A><B>
 Character
</B>
</TH>
    <TH VALIGN=TOP ALIGN=LEFT>
<P ALIGN="LEFT">
<A NAME="23311"> </A><B>
Argument Type
</B>
</TH>
    <TH VALIGN=TOP ALIGN=LEFT>
<P ALIGN="LEFT">
<A NAME="23313"> </A><B>
Printed as
</B>
</TH>
  </DIV></TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23315"> </A><CODE> d
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23317"> </A><CODE>PRIntn
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23319"> </A>Signed decimal number

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23321"> </A><CODE> o
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23323"> </A><CODE>PRUintn
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23325"> </A>Unsigned octal number

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23327"> </A><CODE> x, X
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23329"> </A><CODE>PRUintn
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23331"> </A>Unsigned hexadecimal number, lower and upper case, 
respectively

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23333"> </A><CODE> u
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23335"> </A><CODE>PRUintn
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23337"> </A>Unsigned decimal number

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23339"> </A><CODE> c
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23341"> </A><CODE>PRInt8
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23343"> </A>Single character

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23345"> </A><CODE> s
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23347"> </A><CODE>char*
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23349"> </A>Print characters from the string until <CODE>'\0'</CODE> or the number 
of characters given by the precision

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23351"> </A><CODE> f, g
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23353"> </A><CODE>PRFloat64
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23355"> </A>Double floating point number

<P>
&nbsp;</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23357"> </A><CODE> p
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23359"> </A><CODE>void*
</CODE>
<P>
&nbsp;</TD>
    <TD VALIGN=TOP>
<A NAME="23361"> </A>Pointer (implementation-dependent representation)

<P>
&nbsp;</TD>
  </TR>
</TABLE>



<P>
<P>




<A NAME="23364"> </A>
<A NAME="Output Functions"> </A>
<h2>
Output Functions
</h2>


<A NAME="23365"> </A>Output functions are:

<P>

<A NAME="23369"> </A><A HREF="prprf.html#23391"  ><CODE>PR_snprintf</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23420"  ><CODE>PR_smprintf</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23451"  ><CODE>PR_sprintf_append</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23478"  ><CODE>PR_smprintf_free</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23507"  ><CODE>PR_sxprintf</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23560"  ><CODE>PR_fprintf</CODE></A><CODE>
</CODE>
<P>

<A NAME="23385"> </A>Each of these functions has a corresponding version implemented with a variable 
length argument list:

<P>

<A NAME="23389"> </A><A HREF="prprf.html#23588"  >va_list Versions of Output Functions</A>

<P>

<A NAME="23391"> </A><A NAME="PR_snprintf"> </A><h4>
PR_snprintf
</h4>

<A NAME="23392"> </A>Formats output into a fixed-size buffer. 

<P>

<BR>
<A NAME="23393"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23394"></A>PRUint32 PR_snprintf (<br>&nbsp;&nbsp;&nbsp;char *out,<br>&nbsp;&nbsp;&nbsp;PRUint32 outlen, <br>&nbsp;&nbsp;&nbsp;const char *fmt,<br>&nbsp;&nbsp;&nbsp;...);
</PRE>
<P>
<BR>
<A NAME="23395"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="23396"> </A>The function has these parameters:

<P>

<P>
<A NAME="23414"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23399"> </A><CODE>out
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23401"> </A>The character buffer that will hold the result of the translation.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23403"> </A><CODE>outlen
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23405"> </A>The length in bytes of the buffer.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23407"> </A><CODE>fmt
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23409"> </A>The string that is used as the formatting specification.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23411"> </A><CODE> ...
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23413"> </A>An arbitrary number of parameters. The number and type of the 
parameters are governed by the <CODE>fmt</CODE> string.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23415"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23416"> </A>Returns the length of the written output not including the <CODE>NULL </CODE>terminator, or <br>
-1 if an error occurs. 

<P>

<BR>
<A NAME="23417"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23418"> </A>This function formats the specified parameters according to the specified format 
string, and stores the output in the specified buffer of the specified size. It 
guarantees that a <CODE>NULL</CODE> is at the end of the buffer. 

<P>

<A NAME="23420"> </A><A NAME="PR_smprintf"> </A><h4>
PR_smprintf
</h4>

<A NAME="23421"> </A>Formats output into a buffer allocated at run time. 

<P>

<BR>
<A NAME="23422"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23423"></A>char* PR_smprintf (<br>&nbsp;&nbsp;&nbsp;const char *fmt,<br>&nbsp;&nbsp;&nbsp;...);
</PRE>
<P>
<BR>
<A NAME="23424"> </A><A NAME="Parameter"> </A><h5>
Parameter
</h5>


<A NAME="23425"> </A>The function has these parameters:

<P>

<P>
<A NAME="23435"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23428"> </A><CODE>fmt
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23430"> </A>The string that is used as the formatting specification.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23432"> </A><CODE> ...
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23434"> </A>An arbitrary number of parameters. The number and type of the 
parameters are governed by the <CODE>fmt</CODE> string.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23436"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23437"> </A>If the translation is successful, returns a non-<CODE>NULL</CODE> character pointer. A <CODE>NULL</CODE> return 
value indicates an error in processing. Retrieve the reason for the error using 
<A HREF="prerr.html#26127"  ><CODE>PR_GetError</CODE></A>.

<P>

<BR>
<A NAME="23441"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23442"> </A>This function formats the specified parameters according to the specified format 
string, and returns the output in a character buffer. It guarantees that a <CODE>NULL</CODE> is at 
the end of the buffer. 

<P>

<A NAME="23446"> </A>This function is identical to <A HREF="prprf.html#23391"  ><CODE>PR_snprintf</CODE></A> except that the output buffer is allocated 
by the runtime rather than passed into the function. If the function is successful, the 
returned buffer belongs to the caller. When it is no longer used, free it using 
<A HREF="prprf.html#23478"  ><CODE>PR_smprintf_free</CODE></A>. 

<P>

<A NAME="23451"> </A><A NAME="PR_sprintf_append"> </A><h4>
PR_sprintf_append
</h4>

<A NAME="23452"> </A>Appends a formatted string to an existing string.

<P>

<BR>
<A NAME="23453"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23454"></A>char* PR_sprintf_append (<br>&nbsp;&nbsp;&nbsp;char *last, <br>&nbsp;&nbsp;&nbsp;const char *fmt,<br>&nbsp;&nbsp;&nbsp;...);
</PRE>
<P>
<BR>
<A NAME="23455"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="23456"> </A>The function has these parameters:

<P>

<P>
<A NAME="23470"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23459"> </A><CODE>last
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23461"> </A>A string that was previously returned from this function, or <CODE>NULL</CODE> for 
the first call.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23463"> </A><CODE>fmt
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23465"> </A>The string that is used as the formatting specification.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23467"> </A><CODE> ...
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23469"> </A>An arbitrary number of parameters. The number and type of the 
parameters are governed by the <CODE>fmt</CODE> string.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23471"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23472"> </A>If the transformation is successful, returns a non-<CODE>NULL</CODE> character pointer. The result 
should be treated as a new string. In case of error, returns <CODE>NULL</CODE>.

<P>

<BR>
<A NAME="23473"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23474"> </A>This function formats the specified parameters according to the specified format 
string, and appends the translation to the specified existing string. The function 
returns a new character buffer containing the contents of the string passed in as the 
parameter <CODE>last</CODE>, plus the result of the current transformation. 

<P>

<A NAME="23475"> </A>If no string is specified, the function allocates a new character buffer. The function 
extends the buffer as needed, using standard heap allocators. If the value of <CODE>last</CODE> is 
not <CODE>NULL</CODE>, the function reallocates a new buffer sufficient to hold the existing string 
plus the result of the new translation, and deletes the passed string.

<P>

<A NAME="23476"> </A>The buffer returned by the function belongs to the caller. When it is no longer used, 
free it using <CODE>PR_smprintf_free</CODE>. 

<P>

<A NAME="23478"> </A><A NAME="PR_smprintf_free"> </A><h4>
PR_smprintf_free
</h4>

<A NAME="23482"> </A>Releases the string buffer returned by <A HREF="prprf.html#23420"  ><CODE>PR_smprintf</CODE></A>.

<P>

<BR>
<A NAME="23483"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23484"></A>void PR_smprintf_free (char *str);
</PRE>
<P>
<BR>
<A NAME="23485"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="23486"> </A>The function has this parameter:

<P>

<P>
<A NAME="23495"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23489"> </A><CODE>str
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23494"> </A>A string buffer returned by a previous call to <A HREF="prprf.html#23420"  ><CODE>PR_smprintf</CODE></A>.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23496"> </A><A NAME="Returns "> </A><h5>
Returns 
</h5>


<A NAME="23497"> </A>Nothing 

<P>

<BR>
<A NAME="23498"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23499"> </A>This function frees the memory associated with the specified string buffer, which 
was allocated by a previous call to <A HREF="prprf.html#23420"  ><CODE>PR_smprintf</CODE></A> or <A HREF="prprf.html#23451"  ><CODE>PR_sprintf_append</CODE></A>. If the 
specified buffer was not allocated by one of these functions, the result is undefined.

<P>

<A NAME="23507"> </A><A NAME="PR_sxprintf"> </A><h4>
PR_sxprintf
</h4>

<A NAME="23508"> </A>Formats output to a location determined by a callback function.

<P>

<BR>
<A NAME="23509"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23510"></A>PRUint32 PR_sxprintf (<br>&nbsp;&nbsp;&nbsp;PRStuffFunc f, <br>&nbsp;&nbsp;&nbsp;void *arg, <br>&nbsp;&nbsp;&nbsp;const char *fmt,<br>&nbsp;&nbsp;&nbsp;...);
</PRE>
<P>
<BR>
<A NAME="23511"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="23512"> </A>The function has these parameters:

<P>

<P>
<A NAME="23530"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23515"> </A><CODE>f
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23517"> </A>The<I> stuff function</I> that will be called for each transformation indicated by the 
formatting string, fmt.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23519"> </A><CODE>arg
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23521"> </A>A pointer to a client-managed object that possesses enough state to deal 
with the multiple calls to the <I>stuff function</I>. This argument is passed directly 
through and not interpreted by the runtime.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23523"> </A><CODE>fmt
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23525"> </A>The string that is used as the formatting specification.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23527"> </A><CODE> ...
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23529"> </A>An arbitrary number of parameters. The number and type of the parameters 
are governed by the <CODE>fmt</CODE> string.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23531"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23532"> </A>The total number of bytes in the transformed area, or <CODE>0xffffffff</CODE> if the 
transformation fails. 

<P>

<BR>
<A NAME="23533"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23534"> </A>This function formats the specified parameters according to the specified format 
string, then calls the specified "stuff function," passing the transformed string and 
a pointer to an object that contains the state needed to handle that string.

<P>

<A NAME="23535"> </A>The stuff function may be called more than once for each call to <A HREF="prprf.html#23507"  ><CODE>PR_sxprintf</CODE></A>. Each 
call should return the number of bytes actually accepted by the stuff function for 
that particular call, or -1 if the function fails.

<P>

<A NAME="23539"> </A>The stuff function must be supplied by the client, and must conform to the 
following signature:  

<P>

<PRE>
<A NAME="23540"></A>typedef PRIntn (*PRStuffFunc)<br>&nbsp;&nbsp;&nbsp;(void *arg, const char *s, PRUint32 slen);
</PRE>
<P>
<A NAME="23541"> </A>The stuff function has these parameters: 

<P>

<P>
<A NAME="23558"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23544"> </A><CODE>arg
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23549"> </A>A pointer to an object referenced by the caller of <A HREF="prprf.html#23507"  ><CODE>PR_sxprintf</CODE></A><CODE> </CODE>that 
contains sufficient state for the stuff function to know where to put the 
new transformed fragment.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23551"> </A><CODE>s
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23553"> </A>A character buffer containing a transformed fragment that is to be added 
to the state of the object referenced by <CODE>arg</CODE>.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23555"> </A><CODE>slen
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23557"> </A>The length of the buffer <CODE>s</CODE>.

<P>
</TD>
  </TR>
</TABLE>


<P>


<A NAME="23560"> </A><A NAME="PR_fprintf"> </A><h4>
PR_fprintf
</h4>

<A NAME="23561"> </A>Formats output into a file.

<P>

<BR>
<A NAME="23562"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23563"></A>PRUint32 PR_fprintf (<br>&nbsp;&nbsp;&nbsp;struct PRFileDesc* fd,<br>&nbsp;&nbsp;&nbsp;const char *fmt,<br>&nbsp;&nbsp;&nbsp;...);
</PRE>
<P>
<BR>
<A NAME="23564"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="23565"> </A>The function has these parameters:

<P>

<P>
<A NAME="23579"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23568"> </A><CODE>fd
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23570"> </A>A valid, open file descriptor. 

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23572"> </A><CODE>fmt
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23574"> </A>The string that is used as the formatting specification.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23576"> </A><CODE> ...
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23578"> </A>An arbitrary number of parameters. The number and type of the 
parameters are governed by the fmt string.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23580"> </A><A NAME="Returns "> </A><h5>
Returns 
</h5>


<A NAME="23581"> </A>Returns the total number of bytes written to the file descriptor, or <CODE>0xffffffff</CODE> if 
the transformation fails. It is possible for some transformed bytes to be written to 
the file before the function fails. 

<P>

<BR>
<A NAME="23582"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23583"> </A>This function formats the specified parameters according to the specified format 
string, then directs the result of the transformation to the specified file descriptor 
using <A HREF="priofnc.html#17945"  ><CODE>PR_Write</CODE></A>. The output function may be called multiple times.

<P>


<A NAME="23588"> </A>
<A NAME="va_list Versions of Output Functions"> </A>
<h3>
va_list Versions of Output Functions
</h3>




<A NAME="23589"> </A>The following function prototypes define <CODE>va_list</CODE> forms of the output functions 
described above. The functions are:

<P>

<A NAME="23593"> </A><A HREF="prprf.html#23607"  ><CODE>PR_vsnprintf</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23611"  ><CODE>PR_vsmprintf</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23615"  ><CODE>PR_vsprintf_append</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23619"  ><CODE>PR_vsxprintf</CODE></A><CODE><br>
</CODE><A HREF="prprf.html#23623"  ><CODE>PR_vfprintf</CODE></A><CODE>
</CODE>
<P>

<A NAME="23607"> </A><A NAME="PR_vsnprintf"> </A><h4>
PR_vsnprintf
</h4>

<BR>
<A NAME="23608"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23609"></A>PRUint32 PR_vsnprintf (<br>&nbsp;&nbsp;&nbsp;char *out,<br>&nbsp;&nbsp;&nbsp;PRUint32 outlen, <br>&nbsp;&nbsp;&nbsp;const char *fmt, <br>&nbsp;&nbsp;&nbsp;va_list ap); 
</PRE>
<P>
<A NAME="23611"> </A><A NAME="PR_vsmprintf"> </A><h4>
PR_vsmprintf
</h4>

<BR>
<A NAME="23612"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23613"></A>char* PR_vsmprintf (<br>&nbsp;&nbsp;&nbsp;const char *fmt, <br>&nbsp;&nbsp;&nbsp;va_list ap); 
</PRE>
<P>
<A NAME="23615"> </A><A NAME="PR_vsprintf_append"> </A><h4>
PR_vsprintf_append
</h4>

<BR>
<A NAME="23616"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23617"></A>char* PR_vsprintf_append (<br>&nbsp;&nbsp;&nbsp;char *last, <br>&nbsp;&nbsp;&nbsp;const char *fmt, <br>&nbsp;&nbsp;&nbsp;va_list ap);
</PRE>
<P>
<A NAME="23619"> </A><A NAME="PR_vsxprintf"> </A><h4>
PR_vsxprintf
</h4>

<BR>
<A NAME="23620"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23621"></A>PRUint32 PR_vsxprintf (<br>&nbsp;&nbsp;&nbsp;PRStuffFunc f, <br>&nbsp;&nbsp;&nbsp;void *arg, <br>&nbsp;&nbsp;&nbsp;const char *fmt,<br>&nbsp;&nbsp;&nbsp;va_list ap); 
</PRE>
<P>
<A NAME="23623"> </A><A NAME="PR_vfprintf"> </A><h4>
PR_vfprintf
</h4>

<BR>
<A NAME="23624"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23625"></A>PRUint32 PR_vfprintf (<br>&nbsp;&nbsp;&nbsp;struct PRFileDesc* fd, <br>&nbsp;&nbsp;&nbsp;const char *fmt, <br>&nbsp;&nbsp;&nbsp;va_list ap);
</PRE>
<P>


<A NAME="23627"> </A>
<A NAME="Scanning Function "> </A>
<h2>
Scanning Function 
</h2>


<A NAME="23631"> </A>One scanning function is provided, <A HREF="prprf.html#23633"  ><CODE>PR_sscanf</CODE></A>.

<P>

<A NAME="23633"> </A><A NAME="PR_sscanf"> </A><h4>
PR_sscanf
</h4>

<A NAME="23634"> </A>Scans a character string and performs data conversions. 

<P>

<BR>
<A NAME="23635"> </A><A NAME="Syntax"> </A><h5>
Syntax
</h5>


<PRE>
#include "prprf.h"

<A NAME="23636"></A>PRInt32 PR_sscanf (<br>&nbsp;&nbsp;&nbsp;const char *buf, <br>&nbsp;&nbsp;&nbsp;const char *fmt, <br>&nbsp;&nbsp;&nbsp;...);
</PRE>
<P>
<BR>
<A NAME="23637"> </A><A NAME="Parameters"> </A><h5>
Parameters
</h5>


<A NAME="23638"> </A>The function has these parameters:

<P>

<P>
<A NAME="23652"> </A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="4">
  <TR>
    <TD VALIGN=TOP>
<A NAME="23641"> </A><CODE>buf
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23643"> </A>A character array holding the data to be scanned.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23645"> </A><CODE>fmt
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23647"> </A>The string that is used as the formatting specification.

<P>
</TD>
  </TR>
  <TR>
    <TD VALIGN=TOP>
<A NAME="23649"> </A><CODE>...
</CODE>
<P>
</TD>
    <TD VALIGN=TOP>
<A NAME="23651"> </A>An arbitrary number of parameters, each of which is a pre-allocated 
location in which to return the results. The number and type of the 
parameters are governed by the <CODE>fmt</CODE> string.

<P>
</TD>
  </TR>
</TABLE>


<P>


<BR>
<A NAME="23653"> </A><A NAME="Returns"> </A><h5>
Returns
</h5>


<A NAME="23654"> </A>The number of items scanned and stored, or -1 if the conversion failed. 

<P>

<BR>
<A NAME="23655"> </A><A NAME="Description"> </A><h5>
Description
</h5>


<A NAME="23656"> </A>This function scans the specified character string, performs data conversions 
according to the specified format control string, and stores the converted values in 
the data objects pointed to by its arguments. 

<P>

<A NAME="23657"> </A>This function behaves the same way as the <CODE>sscanf()</CODE> function in the Standard C 
Library (<CODE>stdio.h</CODE>), with the following exceptions: 

<P>
<ul>
<B>  <li></B>
<A NAME="23661"> </A><A HREF="prprf.html#23633"  ><CODE>PR_sscanf</CODE></A> handles the NSPR integer and floating point types, such as 
<CODE>PRInt16</CODE>, <CODE>PRInt32</CODE>, <CODE>PRInt64</CODE>, and <CODE>PRFloat64</CODE>,

<P><B>  <li></B>
<A NAME="23665"> </A><A HREF="prprf.html#23633"  ><CODE>PR_sscanf</CODE></A> has no multibyte character support.

<P></ul>


<HR>
</BOOKCONTENT>

<FOOTERCONTENT>


            <b><a href="prbit.html">
<FONT SIZE="2">Previous</a></FONT>&nbsp;&nbsp;&nbsp;&nbsp;</b>
<a href="index.html">
<b><FONT SIZE="2">Contents</a></FONT></b>&nbsp;&nbsp;&nbsp;&nbsp;
<a href="prclist.html">
<b>
<FONT SIZE="2">
Next
</a>
</FONT>
</b>&nbsp;&nbsp;&nbsp;&nbsp;
 

   <FONT SIZE="-2">
   <P ALIGN="RIGHT">Last Updated <B>May 18, 2001</B>
   </FONT>
   <BR>

</FOOTERCONTENT>

</MAINCONTENT>



<?
require_once "{$config['file_root']}/includes/footer.inc.php"
?>
