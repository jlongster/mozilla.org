<?php

$html_title = 'NSS Test Suite';

$menu = array(
    'id' => 'default',
);

require_once "{$config['file_root']}/includes/header.inc.php"

?>

<center>
<h2>NSS Test Suite</h2>
<FONT SIZE="-1">

<i>Newsgroup: 
<A HREF="news://news.mozilla.org/mozilla.dev.tech.crypto">mozilla.dev.tech.crypto</A></FONT></i>
</center>
<p>



<h3>Running the Test Suite</h3>

Before running the NSS test suite, you should first build NSS 
as described in <a href="release_notes.html">NSS Build Instructions</a>. You must also have the MKS 
or Cygwin toolkit installed. (There are still a few open issues with Cygwin, but most tests should work fine.)



<p>You should make sure the variables <tt>HOST</tt> (the computer's name, defined for Windows NT and Windows 2000 in the variable <tt>COMPUTERNAME</tt>) and <tt>DOMSUF</tt> (the computer's network domain, for example <tt>mydomain.com</tt>) are set, or the QA script will not work correctly. On Unix the system should be able to determine both variables automatically.

<p>The test script constructs the fully qualified name as <tt>${HOST}.${DOMSUF}</tt>.

<p>To test the optimized build set <tt>BUILD_OPT</tt> to 1:

	<ul><tt>setenv BUILD_OPT 1</tt></ul>

<p>If you want to test a different NSS build tree, set the environment variable <tt>DIST</tt> to <i>path_of_the_NSS_tree_to_test</i><tt>/mozilla/dist</tt>.

<p>To execute the tests on the build directory, execute these commands:

<ul>
<p><tt>cd</tt> <i>builddirectory</i><tt>/mozilla/security/nss/tests<BR>
all.sh</tt>
</ul>

The output will be written to <i>builddirectory</i><tt>/mozilla/tests_results/security/</tt><i>machinename</i><tt>.</tt><i>QAnumber</i></tt>. The most interesting output files are <A HREF="results.html"><tt>results.html</tt></A> and <A HREF="output.log"><tt>output.log</tt></A> (links show samples).

<p><b>Note:</b> The SSL stress test opens 2,048 TCP connections in quick succession.  Kernel data structures may remain allocated for these connections for up to two minutes. Some systems may not be configured to allow this many simulatenous connections by default; if the stress tests fail, try increasing the number of simultaneous sockets supported.
<br>
<h3>Known Problems With the NSS Test Suite</h3>

<ul>
	<li>The return codes need fine tuning. Currently, only pass/fail is possible. 
	<li>SSL tests fail on Cygwin toolkit (but not on MKS).

</ul>





<?
require_once "{$config['file_root']}/includes/footer.inc.php"
?>
