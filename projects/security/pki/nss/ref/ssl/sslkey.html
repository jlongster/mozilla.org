<?php

$html_title = 'Key Functions
';

$menu = array(
    'id' => 'default',
);

require_once "{$config['file_root']}/includes/header.inc.php"

?>

<FONT SIZE=-1><A HREF="index.html">Table of Contents</A> | <A HREF="sslcrt.html">Previous</A>
 | <A HREF="pkfnc.html">Next</A>
 | <A HREF="bklast.html">Index</A>
</FONT><BR><BR>


<BR>
<HR>
<A NAME="1022819">
<P></A><CENTER><H2>Chapter 6<BR>
<A NAME="1047959">
Key Functions</A></H2></CENTER>
<A NAME="1050823">
This chapter describes two functions used to manipulate private keys and key databases such as the <CODE>key3.db</CODE> database provided with Communicator.</A></P>
<A NAME="1051473">
<A HREF="sslkey.html#1051479"><CODE>SECKEY_GetDefaultKeyDB</CODE></A><br><A HREF="sslkey.html#1051017"><CODE>SECKEY_DestroyPrivateKey</CODE></A></A></P>

<H4><A NAME="Head3;"></A>
<A NAME="1051479">
 SECKEY_GetDefaultKeyDB 
</A></H4>

<A NAME="1051483">
Returns a handle to the default key database opened by <A HREF="sslfnc.html#1067601"><CODE>NSS_Init</CODE></A>.</A></P>
<H5><A NAME="Head4;"></A>
<A NAME="1050894">
 Syntax 
</A></H5>

<PRE><A NAME="1050962">#include &lt;key.h&gt;<br>#include &lt;keyt.h&gt;</A></PRE><PRE><A NAME="1050902">SECKEYKeyDBHandle *SECKEY_GetDefaultKeyDB(void);</A></PRE><H5><A NAME="Head4;"></A>
<A NAME="1050930">
 Returns
</A></H5>

<A NAME="1050946">
The function returns a handle of type <CODE>SECKEYKeyDBHandle</CODE>.</A></P>
<H5><A NAME="Head4;"></A>
<A NAME="1051220">
 Description
</A></H5>

<A NAME="1051232">
<A HREF="sslfnc.html#1067601"><CODE>NSS_Init</CODE></A> opens the certificate, key, and security module databases that you specify for use with NSS. <CODE>SECKEYKeyDBHandle</CODE> returns a handle to the key database opened by <CODE>NSS_Init</CODE>.</A></P>

<H4><A NAME="Head3;"></A>
<A NAME="1051017">
 SECKEY_DestroyPrivateKey
</A></H4>

<A NAME="1050982">
Destroys a private key structure.</A></P>
<H5><A NAME="Head4;"></A>
<A NAME="1050983">
 Syntax
</A></H5>

<PRE><A NAME="1050984">#include &lt;key.h&gt;<br>#include &lt;keyt.h&gt;</A></PRE><PRE><A NAME="1050985">void SECKEY_DestroyPrivateKey(SECKEYPrivateKey *key);</A></PRE><H5><A NAME="Head4;"></A>
<A NAME="1050986">
 Parameter
</A></H5>

<A NAME="1050992">
This function has the following parameter:<TABLE BORDER="0">
<TR><TD VALIGN=baseline ALIGN=left><PRE><A NAME="1050989">key</A></PRE></TD><TD VALIGN=baseline ALIGN=left><P><A NAME="1050991">
A pointer to the private key structure to destroy. </A></P></TD></TR>

</TABLE>
</A></P>
<H5><A NAME="Head4;"></A>
<A NAME="1051258">
 Description
</A></H5>

<A NAME="1051346">
Certificate and key structures are shared objects. When an application makes a copy of a particular certificate or key structure that already exists in memory, SSL makes a <I>shallow</I> copy--that is, it increments the reference count for that object rather than making a whole new copy. When you call <A HREF="sslcrt.html#1050532"><CODE>CERT_DestroyCertificate</CODE></A> or <A HREF="sslkey.html#1051017"><CODE>SECKEY_DestroyPrivateKey</CODE></A>, the function decrements the reference count and, if the reference count reaches zero as a result, both frees the memory and sets all the bits to zero. The use of the word "destroy" in function names or in the description of a function implies reference counting.</A></P>
<A NAME="1051259">
Never alter the contents of a certificate or key structure. If you attempt to do so, the change affects all the shallow copies of that structure and can cause severe problems.</A></P>
<A NAME="1051269">
</A></P>

<HR>

<FONT SIZE=-1><A HREF="index.html">Table of Contents</A> | <A HREF="sslcrt.html">Previous</A>
 | <A HREF="pkfnc.html">Next</A>
 | <A HREF="bklast.html">Index</A>
</FONT>
<P ALIGN=right>
<FONT SIZE=-2><I>Last Updated:  10/18/00  09:17:48</I></FONT>
<P> 



<?
require_once "{$config['file_root']}/includes/footer.inc.php"
?>
