<HTML>
<HEAD>
<TITLE>NSS 3.1 Release Notes</TITLE>
</HEAD>

<center>
<h2>NSS 3.1 Release Notes</h3>
<h3>17 October 2000
</h3>
<FONT SIZE="-1">

<i>Newsgroup: 
<A HREF="news://news.mozilla.org/mozilla.dev.tech.crypto">mozilla.dev.tech.crypto</A><BR>

Engineering lead: 
<A HREF="mailto:relyea@netscape.com?subject=NSS 3.1 Release Notes">Bob Relyea</A><BR>

Product manager: 
<A HREF="mailto:rolandj@netscape.com?subject=NSS 3.1 Release Notes">Roland Jones</A><BR>

Engineering manager: 
<A HREF="mailto:wtc@netscape.com?subject=NSS 3.1 Release Notes">Wan-Teh Chang</A></FONT></i>
</center>
<p>

<b>Important Bug Fix Information:</b> NSS 3.1.1 fixes several bugs in the freebl library of NSS 3.1, including 
one that affects RSA key pair generation and other important operations. 
<b>If you are using NSS with the freebl library, use NSS 3.1.1 rather than NSS 3.1.</b> 
For details, see <a href="release_notes_311.html">NSS 3.1.1 Release Notes</a>.

<p><p><hr><h3>
Contents</h3>

<ul>
<li>
<a href="#Introduction">Introduction</a></li>

<li>
<a href="#cvs">CVS Information</l1>

<li>
<a href="#bugsfixed">Bugs Fixed</l1>

<li>
<a href="#docs">Documentation</l1>

<li>
<a href="#What's">Changes Since NSS 3.0</a></li>

<li>
<a href="#Platforms">Platforms</a></li>

<li>
<a href="#issues">Known Bugs and Issues</l1>

<li>
<a href="#compatibility">Compatibility</a></li>

<li>
<a href="#feedback">Feedback</a></li>

</ul>

<p><p><hr><a NAME="Introduction">
<h3></a>Introduction</h3>
<a href="index.html">Network Security Services (NSS)</a> is a set of libraries designed to 
support cross-platform development of security-enabled client and server applications. 
These libraries provide the security foundation for a variety of server products from 
<a href="http://www.iplanet.com/products/index.html">iPlanet 
E-Commerce Solutions</a>, including iPlanet Certificate Management System, iPlanet Web Server, 
iPlanet Directory Server, and iPlanet Messaging Server. NSS 3.1 provides, for the first time, 
a complete open-source implementation of the crypto libraries used to implement security 
features in these products, including a new implementation of the RSA algorithm. (For  
more information on the effects of the RSA algorithm going into the public domain, see the 
<a href="../../../../crypto-faq.html">Mozilla Crypto FAQ</a>. For schedule and other details 
of the plan for NSS 3.1, see <a href="plan_3_1.html">NSS 3.1 Plan</a>.)

<p>The NSS libraries also underlie <a href="../psm">Personal Security Manager (PSM)</a>, 
which performs cryptographic operations on behalf of Netscape Communicator, Netscape 6, 
and other client applications. 

<p>If you are developing applications that support SSL, S/MIME, or other Internet security standards, 
you can now use NSS libraries to implement comparable security features in your own applications. 
NSS 3.1 also includes a framework to which developers and OEMs can contribute patches, such as 
assembler code, to optimize performance on their platforms.

<p>NSS 3.1 is dual-licensed under the MPL and the GPL. 

<p><p><hr><a NAME="cvs">
<h3></a>CVS Information</h3>

The CVS tag for the NSS 3.1 release is <tt>NSS_3_1_RTM</tt>. 

<p><b>Important: If you are using the freebl library to 
build NSS, use NSS 3.1.1 rather than NSS 3.1.</b> 
For details, see <a href="release_notes_311">NSS 3.1.1 Release Notes</a>.

<p><p><hr><a NAME="bugsfixed">
<h3></a>Bugs Fixed</h3>

For a list of the bugs that were fixed in the NSS 3.1 release, <a href="http://bugzilla.mozilla.org/buglist.cgi?bug_status=RESOLVED&bug_status=VERIFIED&bug_status=CLOSED&email1=&emailtype1=substring&emailassigned_to1=1&email2=&emailtype2=substring&emailreporter2=1&bugidtype=include&bug_id=&changedin=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&product=NSS&target_milestone=3.0.1&target_milestone=3.1&short_desc=&short_desc_type=substring&long_desc=&long_desc_type=substring&bug_file_loc=&bug_file_loc_type=substring&status_whiteboard=&status_whiteboard_type=substring&keywords=&keywords_type=anywords&field0-0-0=noop&type0-0-0=noop&value0-0-0=&cmdtype=doit&namedcmd=all+open+NSS+bugs&newqueryname=&order=Bug+Number">click here.</a>

<p><p><hr><a NAME="docs">
<h3></a>Documentation</h3>

For a list of the primary NSS documentation pages on mozilla.org, see <a href="index.html#Documentation">NSS Documentation</a>. 
New and revised documents available with this release include the following:
<ul>
	<li><a href="buildnss_31.html">Build Instructions for NSS</a> have been updated for use either with or without the BSAFE library.
	<li><a href="testnss.html">NSS Test Suite</a> describes how to run the standard NSS tests.
	<li><a href="contributors.html">NSS Contributors</a> lists major contributors to the NSS project.
	<li><a HREF="algorithms.html">Encryption Technologies Available in Netscape 6.x, Personal Security Manager, 
and the iPlanet Servers</a> lists the cryptographic algorithms used by products built on top of NSS.
	<li><a HREF="loadable_certs.html">NSS 3.1 Loadable Root Certificates</a>. Describes the new NS 3.1 
scheme for loading root CA certificates.

</ul>

<p>Source may be viewed with a browser (via the LXR tool) at <a href="http://lxr.mozilla.org/mozilla/source/security/nss/">
http://lxr.mozilla.org/mozilla/source/security/nss/</a>


<p><hr><a NAME="What's">
<h3></a>Changes Since NSS 3.0</h3>
New functions and features include the following:

<ul>
	<li>This release requires NSPR 4.0 and supports both NSPR 4.0 and 4.1 
(because NSPR 4.1 is backward compatible with NSPR 4.0). To use NSS 3.1 under GPL, 
you must use NSPR 4.1, because that is the first version of NSPR covered by the dual license. 

	<li>DES is implemented in this release.</li>

	<li>The BigNum package used in this release is based on <a href="http://linguist.dartmouth.edu/~sting/mpi/">
MPI: Arbitrary Precision Integer Arithmetic</a>.</li>

	<li>This release includes unencumbered crypto code on top of the BigNum package, including RSA public 
key, RSA private Key, Diffie-Hellman, Fortezza KEA, DSA sign, DSA verify, 
key generation, param generation and verification, and other algorithms. </li>

	<li>This release includes a new implementation of a pseudo-random number generator that we believe to be FIPS-compliant.</li>

	<li>This release includes an <a href="draft-kaukonen-cipher-arcfour-03.txt">Arcfour</a> implementation.</li>

	<li>Root CAs</li>

	<ul>

		<li>Root CAs load as a separate module. Each vendor has a separate 
		directory. To view the plugin in LXR, see <a href="http://lxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/">
		http://lxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/</a>.</li>

		<li>Individual applications, rather than NSS, determine which root CAs are included.</li>

	</ul>

	<li><a href="smime/">The <a href="smime/">S/MIME Toolkit</a> can be used with this release.</a></li>

	<li>This release enforces RNG seeding and provides a new initialization function.</b> NSS 3.1 enforces a requirement it has always 
had--that the RNG be properly seeded before it is used. Application programs that call 
<a href="ref/ssl/sslfnc.html#1067601"><tt>NSS_Init</tt></a> to initialize NSS already meet this requirement.
If you wish to run NSS without setting up configuration files (that is, without using storage for the 
certificate and key database files), you must call the new initialization function 
<a href="ref/ssl/sslfnc.html#1234224"><tt>NSS_NoDB_Init</tt></a>, which also seeds the RNG properly.

 <li>There is a new NSS initialization function <tt>NSS_InitReadWrite</tt>.  <tt>NSS_InitReadWrite</tt> 
behaves similarly to <tt>NSS_Init</tt>, with the difference being that <tt>NSS_InitReadWrite</tt> opens a 
database and allows for read/write privileges.

<li>The key and certificate database name callback functions that are passed as arguments to <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=39476"><tt>SECKEY_OpenKeyDB</tt></a> or <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=49477"><tt>CERT_OpenCertDB</tt></a> must return their result in memory allocated by an NSPR memory allocation function such as <tt>PR_Malloc</tt>.
  
<li> This release supports IPv6 (PR_AF_INET6) sockets.<br>

We have also received patches for FreeBSD, NetBSD, and OS/2 ports in the past month. The OS/2 ports are from IBM.
</ul>

<p><hr><a NAME="Platforms">
<h3></a>Platform Information</h3>
NSS is maintained on the platforms listed below. "Certified" means the iPlanet NSS team has built 
and run QA tests for NSS on a machine with the specified OS. 
<p>
<table BORDER >

<tr>

<td VALIGN=CENTER><b>Platform</b></td>



<td VALIGN=CENTER><b>Build</b></td>



<td VALIGN=CENTER><b>Certify</b></td>



<td VALIGN=CENTER><b>Compiler(s)</b></td>

</tr>



<tr>

<td VALIGN=CENTER ROWSPAN="2" HEIGHT="43">AIX</td>



<td VALIGN=CENTER HEIGHT="43">4.3.3 (32 bit)</td>



<td VALIGN=CENTER HEIGHT="43">4.3.3 (32 bit)<br>
					4.3.3 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="43">xlC/C++ 3.6.4</td>

</tr>



<tr>

<td VALIGN=CENTER HEIGHT="9">4.3.3 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="9">4.3.3 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="9">xlC/C++ 3.6.4</td>

</tr>



<tr>

<td VALIGN=CENTER HEIGHT="61">Compaq Tru64</td>



<td VALIGN=CENTER HEIGHT="61">4.0D</td>



<td VALIGN=CENTER HEIGHT="61">4.0D&nbsp;

<br>5.0A</td>



<td VALIGN=CENTER HEIGHT="61">(cc) Digital C v5.6-071</td>

</tr>



<tr>

<td VALIGN=CENTER ROWSPAN="2" HEIGHT="58">HP-UX</td>



<td VALIGN=CENTER HEIGHT="58">11.0 (32 bit)</td>



<td VALIGN=CENTER HEIGHT="58">11.0 (32 bit)<br>
					11.0 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="58">C compiler: A.11.01.00</td>

</tr>

<tr>

<td VALIGN=CENTER HEIGHT="9">11.0 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="9">11.0 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="9">C compiler A.11.01.00</td>

</tr>





<tr>

<td VALIGN=CENTER>Linux</td>



<td VALIGN=CENTER>RedHat 6.0</td>



<td VALIGN=CENTER>RedHat 6.0<br>
			RedHat 6.1</td>



<td VALIGN=CENTER>egcs-1.1.2</td>

</tr>





<tr>

<td VALIGN=CENTER>NT</td>



<td VALIGN=CENTER>NT 4.0 w/ SP 6a</td>



<td VALIGN=CENTER>NT 4.0 w/ SP 6a

<br>Win2000</td>



<td VALIGN=CENTER>VC++ 6.0 Service Pack 3</td>

</tr>



<tr>

<td>Windows</td>



<td>NT 4.0 w/ SP 6a</td>



<td>


<br>NT 4.0 w/ SP 6a

<br>Win2000</td>



<td>VC++ 6.0 Service Pack 3</td>

</tr>



<tr>

<td VALIGN=CENTER ROWSPAN="2" HEIGHT="66">Solaris</td>



<td VALIGN=CENTER HEIGHT="66">2.6</td>



<td VALIGN=CENTER HEIGHT="66">2.6<br>
					8 (32 bit)<br>
					8 (64 bit)</td>



<td VALIGN=CENTER HEIGHT="66">WorkShop Compilers&nbsp;

<br>C/C++ version 4.2&nbsp;</td>

</tr>



<tr>

<td VALIGN=CENTER HEIGHT="12">8 (64-bit)</td>



<td VALIGN=CENTER HEIGHT="12">8 (64-bit)</td>



<td VALIGN=CENTER HEIGHT="12">WorkShop Compilers&nbsp;

<br>C/C++ version 5.0</td>

</tr>

</table>

<p><b>Note to Macintosh Developers:</b> Due to a lack of resources, our team was unable to develop NSS for the Macintosh platform.  We are looking for help from any interested parties to modify the Macintosh project file for NSS 3.1.  For contact information, please see the <a href="#feedback">Feedback</a> section.

<p>NSS has not yet been formally tested or certified on any other platforms.  If you have successfully run NSS on other platforms, or if you are interested in taking responsibility for testing and maintaining NSS on a particular platform that's not listed above, post a message to <A HREF="news://news.mozilla.org/mozilla.dev.tech.crypto">mozilla.dev.tech.crypto</A>


<p><hr><a NAME="issues">
<h3>Known Bugs and Issues</h3></a>

Bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=59438">#59438</a> in the freebl library of NSS 3.1, 
sometimes referred to as the "prime number generation bug," affects the 
following algorithms on all platforms:
<ul>

	<li>Diffie-Hellman and DSA parameter generation: The parameter 
may not be a prime. Generation of Diffie-Hellman or DSA 
parameters is typically done only by a Certification 
Authority (e.g. in CMS), not in other client or server 
products.
	<li>RSA key pair generation: The keys may not contain the 
  product of two primes. RSA key pair generation is done by 
  all SSL servers, each time they are started up, to generate 
  a "step down" key for use with export cipher suites. It is 
  also done by all products that generate Certificate Signing 
  Requests.
</ul>

The bug described above has been fixed in <a href="release_notes_311.html">NSS 3.1.1</a>. 
Note that this bug does not affect products using NSS
3.1 with RSA BSAFE Crypto-C or Netscape's internal
libcrypto library. It also does not affect any present
releases of Personal Security Manager from Netscape or iPlanet, since those have all used the
libcrypto library. However, it affects other releases of Personal Security Manager 
that may have used the NSS 3.1 freebl library.

<p>NSS 3.1 uses mozilla/dbm, which is based on Berkeley DB 1.85. 
Berkeley DB 1.85 is released under the original BSD license, whose "advertising clause" 
is incompatible with the GNU GPL. In a letter dated July 22, 1999, UC Berkeley announced 
that the advertising clause is deleted from all the BSD Unix files (of any version of BSD) 
containing it. (The announcement is available at 
<a href="ftp://ftp.cs.berkeley.edu/ucb/4bsd/README.Impt.License.Change">ftp.cs.berkeley.edu/ucb/4bsd/README.Impt.License.Change.)</a> 
The final (AT&T proprietary) 4.4BSD release contained version 1.6 of Berkeley DB. 
The 4.4BSD-Lite2 release contained version 1.74 of Berkeley DB. 
Since Berkeley DB 1.85 is not technically in any version of BSD 
(although it is derived from the Berkeley DB files in 4.4BSD and 4.4BSD-Lite2), 
it is not clear whether the Berkeley announcement deletes the advertising clause from Berkeley DB 1.85.

<p>For a list of known bugs that have not been fixed in NSS 3.1, please <a href="http://bugzilla.mozilla.org/buglist.cgi?bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&email1=&emailtype1=substring&emailassigned_to1=1&email2=&emailtype2=substring&emailreporter2=1&bugidtype=include&bug_id=&changedin=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&product=NSS&short_desc=&short_desc_type=substring&long_desc=&long_desc_type=substring&bug_file_loc=&bug_file_loc_type=substring&status_whiteboard=&status_whiteboard_type=substring&keywords=&keywords_type=anywords&field0-0-0=noop&type0-0-0=noop&value0-0-0=&cmdtype=doit&namedcmd=all+open+NSS+bugs&newqueryname=&order=Bug+Number">click here.</a>


<p><hr><a NAME="compatibility"><h3></a>Compatibility</h3>

NSS 3.1 is backward compatible with NSS 3.0.x.


<p>
<p><hr><a NAME="feedback">
<h3></a>Feedback</h3>
Bugs discovered should be reported by filing a bug report with <a href="http://bugzilla.mozilla.org/">bugzilla</a> (product NSS).

<p>You can also give feedback directly to the developers on the IRC channel <tt>#mozcrypto</tt>
on the server <tt>irc.mozilla.org</tt>.
</body>
</html>
