<html>
<head>
<title>ARIA Checkbox using hyphenated aria- properties</title>

<script type="text/javascript" >
// Mouse and keyboard event handlers for controls
function checkBoxEvent(event)
{
  if ((event.type == "click" && event.button == 0) ||
      (event.type == "keydown" && event.keyCode == 32)) {
    // Toggle checkbox
    var checkbox = event.target;
    if (checkbox.getAttribute("aria-checked") == "true") {
       checkbox.removeAttribute("aria-checked");
    }
    else {
    	checkbox.setAttribute("aria-checked", "true");
    }
    return false;  // Don't continue propagating event
  }
  return true;  // Browser can still use event
};

function tristateCheckboxEvent(event)
{
  if ((event.type == "click" && event.button == 0) ||
      (event.type == "keydown" && event.keyCode == 32)) {
    // Toggle checkbox
    var checkbox = event.target;
    if (checkbox.getAttribute("aria-checked") == "true") {
        checkbox.removeAttribute("aria-checked");
	}
	else if (checkbox.getAttribute("aria-checked") == "mixed") {
		checkbox.setAttribute("aria-checked", "true");
	}
	else {
		checkbox.setAttribute("aria-checked", "mixed");
	}
	return false;  // Don't continue propagating event
  }
  return true; // Browser can still use event
};
</script>

<style type="text/css">
  [role="checkbox"]:before {
    content: url('./unchecked.gif')
   }
  [role="checkbox"][aria-checked="true"]:before {
    content: url('./checked.gif')
  }
  [role="checkbox"][aria-checked="mixed"]:before {
    content: url('./mixed.gif')
  }
</style>
</head>

<body>
  <p>Here's a checkbox that you can click on.</p>

  <div>
	  <span role="checkbox" aria-checked="true" tabindex="0"
			onkeydown="return checkBoxEvent(event);" onclick="return checkBoxEvent(event);" >
		Include decorative fruit basket
	  </span>
  </div>

  <div>
	  <span role="checkbox" aria-checked="true" tabindex="0"
	        aria-required="true"
			onkeydown="return checkBoxEvent(event);" onclick="return checkBoxEvent(event);" >
		Required checkbox
	  </span>
  </div>

  <div>
	  <span role="checkbox" aria-checked="true" tabindex="0"
	        aria-invalid="true"
			onkeydown="return checkBoxEvent(event);" onclick="return checkBoxEvent(event);" >
		Invalid checkbox
	  </span>
  </div>

  <div>
      <span role="checkbox" aria-checked="true" tabindex="0"
            onkeydown="return tristateCheckboxEvent(event);" onclick="return tristateCheckboxEvent(event);" >
        Tri state checkbox
    </span>
  </div>

  <p>
    <a href="http://www.google.com">Random Google link</a>
  </p>

</body>
</html>
