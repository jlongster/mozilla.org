<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:aria="http://www.w3.org/2005/07/aaa">
<head>
<title>ARIA Checkbox</title>
<script type="text/javascript">
<![CDATA[
// Mouse and keyboard event handlers for controls
function checkBoxEvent(event)
{
  if ((event.type == "click" && event.button == 0) ||
      (event.type == "keydown" && event.keyCode == 32)) {
    // Toggle checkbox
    var checkbox = event.target;
    if (checkbox.getAttribute("aria:checked") == "true") {
       checkbox.removeAttribute("aria:checked");
    }
    else {
      checkbox.setAttribute("aria:checked", "true");
    }
    checkbox.className += "";  // For IE
    return false;  // Don't continue propagating event
  }
  return true;  // Browser can still use event
};
]]>
</script>

<style type="text/css">
  @namespace aria url("http://www.w3.org/2005/07/aaa");
  [role="checkbox"][aria|checked] { background-color: grey; }
</style>
</head>

<body>
  <p>Here's a checkbox (when checked it has a grey background):</p>

  <div>
    <span role="checkbox" aria:checked="true" tabindex="0"
      aria:describedby="desc1" onkeydown="return checkBoxEvent(event);"
      onclick="return checkBoxEvent(event);" >
    Include decorative fruit basket
    </span>
    <hr/>
    <span id="desc1">Wow dude, some description!</span>
  </div>

</body>
</html>
