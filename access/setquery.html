<html>
<head>
<title>
Query form
</title>
<script>
function radioChange()
{
  var queryString = "https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&product=Core&product=Firefox&columnlist=bug_severity+priority+assigned_to+status_whiteboard+short_desc"
                    + getRadioValue("status")
                    + getRadioValue("severity")
                    + getRadioValue("os") 
                    + getRadioValue("component")
                    + getRadioValue("branch");
                    
  document.getElementById("url").value = queryString;
  window.top.frames['main'].location.href = document.getElementById('url').value
};

function getRadioValue(name)
{
  var queryForm = document.forms["query"];

  var radioCollection = queryForm.elements[name];

  for(var c = 0;c < radioCollection.length; c++) {
    if(radioCollection[c].checked) {
	   return radioCollection[c].getAttribute("value");
    }
  }
  
  return "";
};

</script>

</head>
<body onload="radioChange();">
  <form onfocus="radioChange();" name="query">
  <div style="padding-top: 1em">
    <button accesskey="m" style="float: right" onclick="window.top.location.href = document.getElementById('url').value">Hide for<u>m</u></button>
    <label accesskey="u" for="url">Bugzilla query <u>U</u>RL:</label>
    <input type="text" readonly="true" style="width: 80%; border: 1px dotted gray" id="url"/>
  </div>
   <fieldset style="width: 17%; float: left">
     <legend>Status</legend>
     <div><label><input type="radio" onfocus="radioChange();" name="status" checked="true" value="&bug_status=UNCONFIRMED&bug_status=NEW&resolution=---&priority=--">Untriaged</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="status" value="&bug_status=UNCONFIRMED">Unconfirmed</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="status" value="&resolution=FIXED">Fixed</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="status" value="&resolution=---">Unfixed</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="status" value="">All</label></div>
   </fieldset>
     
   <fieldset style="width: 17%; float: left">
     <legend>Severity</legend>
     <div><label><input type="radio" onfocus="radioChange();" name="severity" checked="true" value="&bug_severity=blocker&bug_severity=critical&bug_severity=major">Major</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="severity" value="&bug_severity=normal">Normal</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="severity" value="&bug_severity=minor&bug_severity=trivial">Minor</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="severity" value="&bug_severity=enhancement">Feature requests</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="severity" value="">All</label></div>
   </fieldset>
   <fieldset style="width: 17%; float: left">
     <legend>Operating system</legend>
     <div><label><input type="radio" onfocus="radioChange();" name="os" checked="true" value="&op_sys=All&op_sys=Windows%203.1&op_sys=Windows%2095&op_sys=Windows%2098&op_sys=Windows%20ME&op_sys=Windows%202000&op_sys=Windows%20NT&op_sys=Windows%20XP&op_sys=Windows%20Server%202003">Windows</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="os" value="&op_sys=Linux">Linux</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="os" value="&op_sys=MacOS+X">OS X</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="os" value="&op_sys=BSDI&op_sys=FreeBSD&op_sys=NetBSD&op_sys=OpenBSD&op_sys=AIX&op_sys=BeOS&op_sys=HP-UX&op_sys=IRIX&op_sys=Neutrino&op_sys=OpenVMS&op_sys=OS%2F2&op_sys=OSF%2F1&op_sys=Solaris&op_sys=SunOS&op_sys=other">Other</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="os" value="">All</label></div>
   </fieldset>
   <fieldset style="width: 17%; float: left">
     <legend>Type</legend>
     <div><label><input type="radio" onfocus="radioChange();" name="component" checked="true" value="&keywords=sec508">Section 508 bugs</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="component" value="&field0-0-0=blocked&type0-0-0=substring&value0-0-0=24413">UAAG</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="component" value="&component=Disability+Access&component=Disability+Access">API support</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="component" value="&component=Keyboard%3A+Navigation">Keyboard navigation</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="component" value="&field0-0-0=component&type0-0-0=substring&value0-0-0=disability&field0-0-1=component&type0-0-1=substring&value0-0-1=keyboard+navigation&field0-0-2=keywords&type0-0-2=substring&value0-0-2=access">All</label></div>
   </fieldset>
   <fieldset style="width: 17%; float: left;">
     <legend>Branch</legend>
     <div><label><input type="radio" onfocus="radioChange();" name="branch" checked="true" value="&version=Trunk">Trunk only</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="branch" value="&version=1.5&version=1.5+Branch&version=1.5R1&version=1.5R2&version=1.5R3&version=1.5R4&version=1.5R4.1&version=1.5R5&version=1.8+Branch">Firefox 1.5 / Gecko 1.8 only</label></div>
     <div><label><input type="radio" onfocus="radioChange();" name="branch" value="">Any</label></div>
     <div>&nbsp;</div>
   </fieldset>
  </form>
</html>

