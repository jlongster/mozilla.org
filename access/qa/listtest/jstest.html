<html>
<head>
 <title>Using nsIAccessible in Javascript</title>
 <script language="javascript" src="jstest.js">
</script>

<style>
/* h1:before { content: "Section: "; } */
div.hidden { display: none; }
span.infofield {background-color: #eeeeee;}
div.spacer {margin-top: 1em; }
fieldset {margin-right: 1em;}
</style>

</head>
<body onfocus="testFocus(event);" onclick="testClicks(event);" onmousemove="testMouseMove(event);">
<h1>Using nsIAccessible in Javascript</h1>
<div><em><strong>Directions</strong>: in a separate debugging profile, enter about:config in your URL bar and set signed.applets.codebase_principal_support to true, otherwise the script won't work! It's dangerous to set put this setting in your main browsing profile, because it would allow any script to have access to priveleged APIs.</em></div>
<fieldset style="float: left; width: 30%">
    <legend>Current nsIAccessible</legend>
    <button onclick='navigateToParent();'>Parent</button>
    <button onclick='navigateToPreviousSibling();'>Previous sibling</button>
    <button onclick='navigateToNextSibling();'>Next sibling</button>
    <button onclick='navigateToFirstChild();'>First child</button>
    <button onclick='navigateToLastChild();'>Last child</button>
    <button onclick='copyText();'>Copy</button>
    <button onclick='pasteText();'>Paste</button>
    <div class="spacer" />
    <div id="infopanel">
      <div>Tag:
        <span class="infofield" id="tag">None</span>
      </div>
      <div>Role:
        <span class="infofield" id="role">None</span>
      </div>
      <div>Name:
        <span class="infofield" id="name">None</span>
      </div>
      <div>Value:
        <span class="infofield" id="value">None</span>
      </div>
      <div>State:
        <span class="infofield" id="state">None</span>
      </div>
      <div>Num chars:
        <span class="infofield" id="numchars">0</span>
      </div>
      <div>Text:
        <span class="infofield" id="text">None</span>
      </div>
      <div>Offset at Point:
        <span class="infofield" id="offsetAtPoint">-1</span>
      </div>
    </div>
    <div class="hidden" id="warnpanel">
       <em>No accessible found for <span id="tagwarn">foo</span></em>
    </div>
</fieldset>
</td>
<td>
<form name="options">
<fieldset>
  <legend>Options</legend>
  <div>
    <button onclick='testDOMNode(document);'>Test document node</button>
  </div>
  <div>
    <button onclick='testDOMNode(this);'>Test this button</button>
  </div>
  <div class="spacer" />
  <div>
      <label><input type="checkbox" id="track-focus" />Track DOM focus</label>
  </div>
  <div>
    <label><input type="checkbox" checked="true" id="track-clicks" />Track mouse clicks</label>
  </div>
  <div>
    <label><input type="checkbox" id="track-mousemove" />Track mouse move</label>
  </div>
  <div>
    <label>Boundary type: </label>
    <label><input type="radio" name="boundaryType" value="all" />All text</label>
    <label><input type="radio" name="boundaryType" value="char" />Character</label>
    <label><input type="radio" name="boundaryType" value="wordStart" />Word start</label>
    <label><input type="radio" name="boundaryType" value="wordEnd"/>Word end</label>
    <label><input type="radio" checked="true" name="boundaryType" value="lineStart" />Line start</label>
    <label><input type="radio" name="boundaryType" value="lineEnd" />Line end</label>
    <label><input type="radio" name="boundaryType" value="attrRange" />Attribute range</label>
  </div>
</fieldset>
</form>
</td>
</table>
<fieldset style="clear: left;">
  <legend><label for="url" accesskey="o">Test d<u>o</u>cument:</label> <input id="url" type="text" value="./jstest-start.html" size="40" onkeypress="if (event.keyCode == 13) getElementById('testdoc').src = this.value;"/></legend>
  <iframe id="testdoc" src="./jstest-start.html" onload="setupListeners(this)" width="100%" height="400px" style="border: 0"/>
</fieldset>

</body>
</html>
